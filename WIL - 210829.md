# wil

안 쓴 지 너무 오래되었다...
반성한다...
내가 그 동안 wil도 잊을만큼 빠샤했다...?고 위안하며... 오늘 wil을 써보겠다.

이번 주는 이제 마무리가 가까워져와서 사용자 피드백을 받고 개선시키는 경험을 하였다.
한 페이지에도 개선할 점이 많이 나와서 놀랐다.
생각치 못한 부분에서 불편하다는 피드백이 몇몇개가 들어와서 더욱 신기했다.
피드백을 읽어보니 아...이렇게 생각했을 수 있겠다고 느끼는 부분이 많았다. 
내가 생각해보지 못한 부분이 많구나 하고 생각했다.
앞으로 어떤 것을 만들 때는 좀 더 깊이 다방면으로 사용자 경험을 생각해보며 만들어야겠다는 생각을 가지게 되었다.

# 오늘 만든 것
- window.confirm => ConfirmModal로 구현하기

# 어려웠던 부분
> 처음에는 confirm창 처럼 true, false 값을 받아오고, 그 후에 그 값에 따라 액션을 취하는 Confirm 모달을 만드려고 했다.
> 그래서 true, false값을 받아왔다.
> 그런데 뭔가 잘못하였는 지 방 삭제에 적용하려고 하니까 이 과정만 거치면 방 Id(RoomId)가 1번을 선택했는데 9번으로 바뀌어버렸다...
> 이유는 아직도 파악하지 못하였다...
> 그래서 애가 타서...확인에서 true, false를 받아오는 게 아니라 아예 삭제함수와 RoomId를 전달해서 확인을 누르면 삭제함수가 실행되도록 만들었다.
> 하지만 똑같이 RoomId가 바뀌는 문제가 발생했다.
 
> 그래서 일단 true, false를 모달 안에서 주고 받지 말고 redux로 올려서 거기서 useSelector를 써서 주고 받기로 했다.
> 그렇게 잘 해결되는 듯 했다....!!! 
> 그러나 또 문제가... 확인을 누르고 나서 삭제가 진행되어야 하는데...확인 버튼을 누르기도 전에 삭제 되거나...안 되거나 했다....
> 확인버튼에 dispatch를 걸어놓고 true, false를 받아왔기 때문이었다. (확인버튼 누르기 전엔 false, 누르고 나서는 쭉 true => 그래서 확인 누르기도 전에 다 삭제됨)

# 해결 방법
> 어떻게 이 부분을 해결할까 하다가...다시 초심으로 돌아가...열심히 서치 해놨던 자료를 천천히 읽어보았다.
> 그랬더니 promise를 써서 이 문제를 해결한 분이 있었고 이 분 방식을 내 코드에 적용했다...!!!
> 결과는 매우 성공적이었다.
> confirm이라는 함수에 모달 오픈 기능을 넣고 res를 받아오는 부분을 넣어 여기에 promise를 적용했다.
> 그리고 onConfirm을 누르면 true가 전달되도록 만들었다.

# 느낀 점
> 아는 만큼 보인다.
> promise 개념을 잘 알고 있으면 이 문제를 빨리 해결했을 것이다... 이 문제를 푸는데 며칠이 걸렸다.
> 이것만 붙잡고 있을 수가 없어서 다른 것을 하면서 하느라 그랬던 것이지만 굉장히 오래 걸린 것은 사실이다.
> 사실 이 해결책을 제시했던 분의 블로그를 처음 서치할 때 발견해놓았다. 
> 그런데 따라하다가 에러가 나고, 내 코드에 그대로 적용할 수 없는 부분이 있어서 이것 때문에 에러나는 건가...하면서 다른 방식을 찾았다.
> 이 때 그래도 promise을 보았으니 조금 공부하고 지나갔더라면 삽질을 조금 줄일 수 있지 않았을까 싶다...!
> 하지만 삽질 없이 또 어떻게 이걸 만들었겠냐라고도 생각한다🤣🤣🤣

> __팀원분이 confirm 관련해 할 수 있을 거라고 맡겨주신 일인데 믿고 맡겨주실 때도 고마웠지만, 이걸 통해 많이 배우면서 더 감사함을 느꼈다...!!✨✨✨__
> __우리 팀은 역시 최고다👍👍👍__













